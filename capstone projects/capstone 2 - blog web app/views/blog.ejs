<%- include('partials/header.ejs') %> <% if (locals.allPosts.length > 0) { %>

<div class="all-posts container list-group d-flex flex-column align-items-center">
  <% allPosts.forEach((post) => { %>

  <a class="list-group-item list-group-item-action m-0 px-3 text-wrap text-break" href="/view/<%= allPosts.indexOf(post) %>">
    <h6 class="mt-3 mb-1 p-0"><%= post.date %></h6>
    <h4 name="postTitle" class="mb-1"><%= post.title %></h4>
    <p name="postContent" class="m-0 opacity-75 text-wrap text-break">
      <%- (post.content.slice(0, 200)).replace(/(<br>)/gm, " ") %>...
    </p>
    <p class="text-end m-0 pt-2" style="font-size: x-small">
      <em>view post -></em>
    </p>
  </a>

  <% }); %>
</div>

<% } else { %>
    <div class="container d-flex justify-content-center flex-column align-items-center">
        <p class="text-muted">no posts yet.</p>
        <a class="btn px-4 pt-3 pb-2" href="/create"><em>write one -></em></a>
    </div>



<% } %> <%- include('partials/footer.ejs') %>
